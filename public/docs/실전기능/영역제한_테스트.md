### ê°œìš”

ì§€ë„ì—ì„œ íŠ¹ì • ì¢Œí‘œë¥¼ í´ë¦­ìœ¼ë¡œ ì„ íƒí•˜ê³ , ì„ íƒëœ ì¢Œí‘œë¥¼ ê¸°ì¤€ìœ¼ë¡œ 500M ë°˜ê²½ì˜ Circleì„ í‘œì‹œí•˜ëŠ” ì˜ì—­ ì œí•œ í…ŒìŠ¤íŠ¸ í˜ì´ì§€ì…ë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥

- **ì˜ì—­ ì¤‘ì‹¬ì  ì„ íƒ**: ì§€ë„ í´ë¦­ì„ í†µí•´ ì›í•˜ëŠ” ìœ„ì¹˜ì˜ ì¢Œí‘œë¥¼ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- **ë™ì  ë°˜ê²½ ì˜ì—­ í‘œì‹œ**: ì„ íƒëœ ì¢Œí‘œë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ë°˜ê²½ì„ ì¡°ì •í•  ìˆ˜ ìˆëŠ” ì›í˜• ì˜ì—­ì„ í‘œì‹œí•©ë‹ˆë‹¤
- **ë°˜ê²½ ì¡°ì •**: ìŠ¬ë¼ì´ë”ë¥¼ í†µí•´ 100m~2000m ë²”ìœ„ì—ì„œ ë°˜ê²½ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- **ì¢Œí‘œ ì •ë³´ í‘œì‹œ**: ì„ íƒëœ ì¢Œí‘œì˜ ìœ„ë„/ê²½ë„ ì •ë³´ë¥¼ ì†Œìˆ˜ì  6ìë¦¬ê¹Œì§€ í‘œì‹œí•©ë‹ˆë‹¤
- **ì„ íƒ ì´ˆê¸°í™”**: ì„ íƒëœ ì¢Œí‘œì™€ Circleì„ ì œê±°í•˜ëŠ” ê¸°ëŠ¥

### ì‚¬ìš© ë°©ë²•

1. ì§€ë„ì—ì„œ ì›í•˜ëŠ” ìœ„ì¹˜ë¥¼ í´ë¦­í•©ë‹ˆë‹¤
2. í´ë¦­í•œ ìœ„ì¹˜ì— ë¹¨ê°„ìƒ‰ ë§ˆì»¤ê°€ í‘œì‹œë©ë‹ˆë‹¤
3. ë§ˆì»¤ ì£¼ë³€ìœ¼ë¡œ ê¸°ë³¸ 500M ë°˜ê²½ì˜ ì›í˜• ì˜ì—­ì´ í‘œì‹œë©ë‹ˆë‹¤
4. ìŠ¬ë¼ì´ë”ë¥¼ ì¡°ì‘í•˜ì—¬ 100m~2000m ë²”ìœ„ì—ì„œ ë°˜ê²½ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
5. ìƒë‹¨ì— ì„ íƒëœ ì¢Œí‘œ ì •ë³´(ìœ„ë„/ê²½ë„)ì™€ í˜„ì¬ ë°˜ê²½ì´ í‘œì‹œë©ë‹ˆë‹¤
6. "ì„ íƒ ì´ˆê¸°í™”" ë²„íŠ¼ìœ¼ë¡œ ì„ íƒì„ í•´ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

### ê¸°ìˆ ì  íŠ¹ì§•

#### Native Google Maps API Circle ì‚¬ìš©

ì´ êµ¬í˜„ì—ì„œëŠ” React Google Maps APIì˜ `Circle` ì»´í¬ë„ŒíŠ¸ ëŒ€ì‹  **Native Google Maps API Circle**ì„ ì§ì ‘ ì‚¬ìš©í•©ë‹ˆë‹¤:

```javascript
// Circle ì¤‘ë³µ ìƒì„± ë¬¸ì œ í•´ê²°ì„ ìœ„í•´ Native API ì‚¬ìš©
const circle = new window.google.maps.Circle({
  strokeColor: "#FF0000",
  strokeOpacity: 0.8,
  strokeWeight: 2,
  fillColor: "#FF0000",
  fillOpacity: 0.15,
  map: map,
  center: coordinate,
  radius: radius,
});
```

#### Circle ì¤‘ë³µ ìƒì„± ë¬¸ì œ í•´ê²°

- **ë¬¸ì œ**: React Google Maps APIì˜ `Circle` ì»´í¬ë„ŒíŠ¸ëŠ” ì²« í´ë¦­ ì‹œ Circleì´ ì¤‘ë³µ ìƒì„±ë˜ê±°ë‚˜ ì´ì „ Circleì´ ì™„ì „íˆ ì œê±°ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ ë°œìƒ
- **í•´ê²°**: ë§¤ í´ë¦­ë§ˆë‹¤ ê¸°ì¡´ Circleì„ `setMap(null)`ë¡œ ì™„ì „ ì œê±° í›„ ìƒˆë¡œìš´ Circle ìƒì„±
- **ë””ë²„ê¹…**: ì½˜ì†” ë¡œê·¸(`ğŸ”µ`)ë¥¼ í†µí•´ Circle ìƒì„±/ì œê±°/ì—…ë°ì´íŠ¸ ê³¼ì • ì¶”ì  ê°€ëŠ¥

#### ìƒíƒœ ê´€ë¦¬

- `map`: GoogleMap ì¸ìŠ¤í„´ìŠ¤ ì°¸ì¡°
- `currentCircle`: í˜„ì¬ í‘œì‹œëœ Circle ê°ì²´ ì°¸ì¡°
- `selectedCoordinate`: ì„ íƒëœ ì¢Œí‘œ ì •ë³´
- `radius`: í˜„ì¬ ë°˜ê²½ ê°’

### ì‚¬ìš© ë°©ë²•

1. ì§€ë„ì—ì„œ ì›í•˜ëŠ” ìœ„ì¹˜ë¥¼ í´ë¦­í•©ë‹ˆë‹¤
2. í´ë¦­í•œ ìœ„ì¹˜ì— ë¹¨ê°„ìƒ‰ ë§ˆì»¤ê°€ í‘œì‹œë©ë‹ˆë‹¤
3. ë§ˆì»¤ ì£¼ë³€ìœ¼ë¡œ ê¸°ë³¸ 500M ë°˜ê²½ì˜ ì›í˜• ì˜ì—­ì´ í‘œì‹œë©ë‹ˆë‹¤
4. ìŠ¬ë¼ì´ë”ë¥¼ ì¡°ì‘í•˜ì—¬ 100m~2000m ë²”ìœ„ì—ì„œ ë°˜ê²½ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
5. ìƒë‹¨ì— ì„ íƒëœ ì¢Œí‘œ ì •ë³´(ìœ„ë„/ê²½ë„)ì™€ í˜„ì¬ ë°˜ê²½ì´ í‘œì‹œë©ë‹ˆë‹¤
6. "ì„ íƒ ì´ˆê¸°í™”" ë²„íŠ¼ìœ¼ë¡œ ì„ íƒì„ í•´ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

### ì£¼ì˜ì‚¬í•­

- **Circle ê´€ë¦¬**: Native Google Maps APIë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ Circle ìƒì„±/ì œê±°ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ê´€ë¦¬
- **ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€**: ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ Circle ì •ë¦¬ í•„ìš” (í˜„ì¬ êµ¬í˜„ì—ì„œëŠ” clearSelectionìœ¼ë¡œ ì²˜ë¦¬)
- **ë°˜ê²½ ë²”ìœ„**: ìµœì†Œ 100më¶€í„° ìµœëŒ€ 2000mê¹Œì§€ 100m ë‹¨ìœ„ë¡œ ì„¤ì • ê°€ëŠ¥
- **ì¢Œí‘œ ì •í™•ë„**: í´ë¦­í•œ ì •í™•í•œ ìœ„ì¹˜ì˜ ì¢Œí‘œê°€ ì†Œìˆ˜ì  6ìë¦¬ê¹Œì§€ í‘œì‹œ
- **ë””ë²„ê¹…**: ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ğŸ”µ ë¡œê·¸ë¥¼ í†µí•´ Circle ë™ì‘ ê³¼ì • í™•ì¸ ê°€ëŠ¥

### ì½”ë“œ

```jsx
// src/pages/real/CoordinateSelectionTestPage.jsx
import { GoogleMap, Marker } from "@react-google-maps/api";
import "@/pages/map/MapPage.css";
import MarkdownComponent from "@/components/Markdown";
import React, { useState, useEffect } from "react";

const CoordinateSelectionTestPage = () => {
  const [markdown, setMarkdown] = useState("");
  const [selectedCoordinate, setSelectedCoordinate] = useState(null);
  const [radius, setRadius] = useState(500);
  const [mapCenter, setMapCenter] = useState({
    lat: 37.5665,
    lng: 126.978,
  });
  const [map, setMap] = useState(null);
  const [currentCircle, setCurrentCircle] = useState(null);

  const mapOptions = {
    gestureHandling: "greedy",
    zoomControl: true,
    scaleControl: false,
    mapTypeControl: false,
    streetViewControl: false,
    fullscreenControl: false,
    disableDefaultUI: false,
    scrollwheel: true,
    draggable: true,
    clickableIcons: false,
  };

  useEffect(() => {
    fetch(`/docs/ì‹¤ì „ê¸°ëŠ¥/ì˜ì—­ì œí•œ_í…ŒìŠ¤íŠ¸.md`)
      .then((response) => response.text())
      .then((text) => setMarkdown(text))
      .catch(() =>
        setMarkdown("# ì˜ì—­ ì œí•œ í…ŒìŠ¤íŠ¸\n\në¬¸ì„œë¥¼ ë¡œë“œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤."),
      );
  }, []);

  const handleMapClick = (event) => {
    const coordinate = {
      lat: event.latLng.lat(),
      lng: event.latLng.lng(),
    };
    console.log("ğŸ”µ Map clicked:", coordinate);

    // ê¸°ì¡´ circle ì œê±°
    if (currentCircle) {
      console.log("ğŸ”µ Removing existing circle");
      currentCircle.setMap(null);
    }

    setSelectedCoordinate(coordinate);

    // ìƒˆë¡œìš´ circle ìƒì„± (Native Google Maps API ì‚¬ìš©)
    if (map) {
      console.log("ğŸ”µ Creating new circle");
      const circle = new window.google.maps.Circle({
        strokeColor: "#FF0000",
        strokeOpacity: 0.8,
        strokeWeight: 2,
        fillColor: "#FF0000",
        fillOpacity: 0.15,
        map: map,
        center: coordinate,
        radius: radius,
      });
      setCurrentCircle(circle);
    }
  };

  const clearSelection = () => {
    if (currentCircle) {
      console.log("ğŸ”µ Clearing circle");
      currentCircle.setMap(null);
      setCurrentCircle(null);
    }
    setSelectedCoordinate(null);
  };

  const formatCoordinate = (coord) => {
    if (!coord) return "ì„ íƒëœ ì¢Œí‘œê°€ ì—†ìŠµë‹ˆë‹¤";
    return `ìœ„ë„: ${coord.lat.toFixed(6)}, ê²½ë„: ${coord.lng.toFixed(6)}`;
  };

  const handleRadiusChange = (event) => {
    const newRadius = parseInt(event.target.value);
    setRadius(newRadius);

    // ê¸°ì¡´ circle ë°˜ê²½ ì—…ë°ì´íŠ¸
    if (currentCircle) {
      console.log("ğŸ”µ Updating circle radius:", newRadius);
      currentCircle.setRadius(newRadius);
    }
  };

  return (
    <div className="map-page">
      <div className="map-container">
        <div
          className="controls"
          style={{
            padding: "10px",
            backgroundColor: "#f5f5f5",
            marginBottom: "10px",
          }}
        >
          <div style={{ marginBottom: "10px", fontSize: "14px" }}>
            <strong>ì„ íƒëœ ì¢Œí‘œ:</strong> {formatCoordinate(selectedCoordinate)}
          </div>

          <div style={{ marginBottom: "15px" }}>
            <label
              style={{
                display: "block",
                marginBottom: "5px",
                fontSize: "14px",
                fontWeight: "bold",
              }}
            >
              ë°˜ê²½: {radius}m
            </label>
            <input
              type="range"
              min="100"
              max="2000"
              step="100"
              value={radius}
              onChange={handleRadiusChange}
              style={{
                width: "100%",
                height: "6px",
                borderRadius: "3px",
                background: "#ddd",
                outline: "none",
                marginRight: "10px",
              }}
            />
            <div
              style={{
                display: "flex",
                justifyContent: "space-between",
                fontSize: "12px",
                color: "#666",
                marginTop: "2px",
              }}
            >
              <span>100m</span>
              <span>2000m</span>
            </div>
          </div>

          <button
            onClick={clearSelection}
            disabled={!selectedCoordinate}
            style={{
              padding: "8px 16px",
              backgroundColor: "#2196F3",
              color: "white",
              border: "none",
              borderRadius: "4px",
              cursor: selectedCoordinate ? "pointer" : "not-allowed",
              opacity: selectedCoordinate ? 1 : 0.5,
            }}
          >
            ì„ íƒ ì´ˆê¸°í™”
          </button>
          <div style={{ marginTop: "10px", fontSize: "12px", color: "#666" }}>
            ì§€ë„ë¥¼ í´ë¦­í•˜ì—¬ ì¢Œí‘œë¥¼ ì„ íƒí•˜ê³ , ìŠ¬ë¼ì´ë”ë¡œ ë°˜ê²½ì„ ì¡°ì •í•˜ì„¸ìš”.
          </div>
        </div>

        <GoogleMap
          mapContainerClassName="map-inner"
          center={mapCenter}
          zoom={15}
          options={mapOptions}
          onClick={handleMapClick}
          onLoad={setMap}
        >
          {selectedCoordinate && (
            <Marker
              position={selectedCoordinate}
              title={`ì„ íƒëœ ì¢Œí‘œ: ${formatCoordinate(selectedCoordinate)}`}
              icon={{
                url: "data:image/svg+xml;charset=UTF-8,%3csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='12' cy='12' r='10' fill='%23FF0000' stroke='%23FFFFFF' stroke-width='2'/%3e%3c/svg%3e",
                scaledSize: new window.google.maps.Size(24, 24),
                anchor: new window.google.maps.Point(12, 12),
              }}
            />
          )}
        </GoogleMap>
      </div>

      <div className="markdown-section">
        <MarkdownComponent content={markdown} />
      </div>
    </div>
  );
};

export default CoordinateSelectionTestPage;
```
