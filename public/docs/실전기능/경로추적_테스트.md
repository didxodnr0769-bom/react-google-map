# 경로 추적 테스트

현재 위치를 1초마다 조회하여 실시간으로 이동 경로를 폴리라인으로 그리는 기능을 테스트합니다.

## 주요 기능

### 1. 실시간 위치 추적
- `navigator.geolocation.getCurrentPosition`을 사용하여 현재 위치 조회
- 1초 간격으로 위치를 업데이트
- 고정밀도 위치 정보 사용 (`enableHighAccuracy: true`)

### 2. 경로 시각화
- 이동한 경로를 빨간색 폴리라인으로 표시
- 현재 위치를 빨간 원 마커로 표시
- 실시간으로 경로가 확장됨

### 3. 추적 제어
- **추적 시작/중지**: 버튼을 통해 위치 추적을 제어
- **경로 초기화**: 기존 추적된 경로를 지우고 새로 시작
- **추적 상태 표시**: 현재 추적 중인지 상태를 시각적으로 표시

## 코드 구현

### 위치 추적 로직
```javascript
const getCurrentPosition = () => {
  return new Promise((resolve, reject) => {
    navigator.geolocation.getCurrentPosition(
      (position) => {
        const newPosition = {
          lat: position.coords.latitude,
          lng: position.coords.longitude,
        };
        resolve(newPosition);
      },
      (error) => reject(error),
      {
        enableHighAccuracy: true,  // 고정밀도 사용
        timeout: 5000,            // 5초 타임아웃
        maximumAge: 0,            // 캐시 사용 안함
      }
    );
  });
};
```

### 실시간 추적
```javascript
const startTracking = async () => {
  const initialPosition = await getCurrentPosition();
  setCurrentPosition(initialPosition);
  setPath([initialPosition]);
  setIsTracking(true);

  intervalRef.current = setInterval(async () => {
    try {
      const newPosition = await getCurrentPosition();
      setCurrentPosition(newPosition);
      setPath((prevPath) => [...prevPath, newPosition]);
    } catch (err) {
      setError(`위치 업데이트 오류: ${err.message}`);
    }
  }, 1000); // 1초마다 실행
};
```

### 폴리라인 설정
```javascript
const polylineOptions = {
  strokeColor: "#FF0000",    // 빨간색
  strokeOpacity: 1.0,        // 완전 불투명
  strokeWeight: 3,           // 선 굵기
};
```

## 사용 방법

1. **추적 시작**: "추적 시작" 버튼을 클릭하여 실시간 위치 추적 시작
2. **이동**: 디바이스를 들고 이동하면 실시간으로 경로가 그려짐
3. **추적 중지**: "추적 중지" 버튼을 클릭하여 추적 종료
4. **경로 초기화**: "경로 초기화" 버튼으로 기존 경로 삭제

## 주의사항

### 위치 권한
- 브라우저에서 위치 권한을 요청합니다
- 권한을 허용해야 정상 동작합니다
- 권한이 거부되면 서울 기본 위치로 설정됩니다

### 배터리 소모
- 1초마다 GPS를 사용하므로 배터리 소모가 클 수 있습니다
- 테스트 후에는 반드시 추적을 중지해주세요

### 정확도
- 실내에서는 GPS 정확도가 떨어질 수 있습니다
- 야외에서 테스트하는 것을 권장합니다

## 실제 활용 사례

- **운동 경로 추적**: 조깅, 사이클링 등의 운동 경로 기록
- **배달 서비스**: 배달원의 이동 경로 추적
- **차량 추적**: 차량의 실시간 위치 및 이동 경로 모니터링
- **하이킹 트랙킹**: 등산로 기록 및 공유