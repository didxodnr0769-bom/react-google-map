### 개요

현재 위치를 1초마다 조회하여 실시간으로 이동 경로를 폴리라인으로 그리는 실전 기능 테스트 페이지입니다.

### 주요 기능

- **실시간 위치 추적**: Geolocation API를 1초마다 호출하여 현재 위치를 실시간 업데이트
- **경로 시각화**: 이동한 모든 위치를 연결하여 빨간색 폴리라인으로 표시
- **추적 제어**: 추적 시작/중지 및 경로 초기화 버튼 제공
- **실시간 상태 표시**: 추적된 포인트 수와 현재 추적 상태를 실시간으로 표시
- **현재 위치 마커**: 빨간 원 마커로 현재 위치를 명확히 표시

### 코드

```jsx
// src/pages/real/PathTrackingTestPage.jsx
import { GoogleMap, Marker, Polyline } from "@react-google-maps/api";
import "@/pages/map/MapPage.css";
import MarkdownComponent from "@/components/Markdown";
import { useState, useEffect, useRef } from "react";

const PathTrackingTestPage = () => {
  const [currentPosition, setCurrentPosition] = useState(null);
  const [path, setPath] = useState([]);
  const [error, setError] = useState(null);
  const [isTracking, setIsTracking] = useState(false);
  const intervalRef = useRef(null);

  const polylineOptions = {
    strokeColor: "#FF0000",
    strokeOpacity: 1.0,
    strokeWeight: 3,
  };

  const getCurrentPosition = () => {
    return new Promise((resolve, reject) => {
      navigator.geolocation.getCurrentPosition(
        (position) => {
          const newPosition = {
            lat: position.coords.latitude,
            lng: position.coords.longitude,
          };
          resolve(newPosition);
        },
        (error) => reject(error),
        {
          enableHighAccuracy: true,  // 고정밀도 사용
          timeout: 5000,            // 5초 타임아웃
          maximumAge: 0,            // 캐시 사용 안함
        }
      );
    });
  };

  const startTracking = async () => {
    try {
      const initialPosition = await getCurrentPosition();
      setCurrentPosition(initialPosition);
      setPath([initialPosition]);
      setIsTracking(true);
      setError(null);

      intervalRef.current = setInterval(async () => {
        try {
          const newPosition = await getCurrentPosition();
          setCurrentPosition(newPosition);
          setPath((prevPath) => [...prevPath, newPosition]);
        } catch (err) {
          setError(`위치 업데이트 오류: ${err.message}`);
        }
      }, 1000); // 1초마다 실행
    } catch (err) {
      setError(`추적 시작 오류: ${err.message}`);
      // 기본 위치로 설정 (서울)
      setCurrentPosition({
        lat: 37.5665,
        lng: 126.978,
      });
    }
  };

  const stopTracking = () => {
    if (intervalRef.current) {
      clearInterval(intervalRef.current);
      intervalRef.current = null;
    }
    setIsTracking(false);
  };

  return (
    <div className="map-page">
      <div className="map-container">
        <div className="controls">
          <button onClick={isTracking ? stopTracking : startTracking}>
            {isTracking ? "추적 중지" : "추적 시작"}
          </button>
          <button onClick={clearPath}>경로 초기화</button>
          <span>추적된 포인트: {path.length}개</span>
          {isTracking && <span>● 실시간 추적 중</span>}
        </div>

        {currentPosition && (
          <GoogleMap
            mapContainerClassName="map-inner"
            center={currentPosition}
            zoom={15}
          >
            <Marker
              position={currentPosition}
              title="현재 위치"
              icon={{
                url: "data:image/svg+xml;charset=UTF-8,%3csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='10' cy='10' r='8' fill='%23FF0000' stroke='%23FFFFFF' stroke-width='2'/%3e%3c/svg%3e",
                scaledSize: new window.google.maps.Size(20, 20),
                anchor: new window.google.maps.Point(10, 10),
              }}
            />
            {path.length > 1 && (
              <Polyline path={path} options={polylineOptions} />
            )}
          </GoogleMap>
        )}
        {error && <div className="error-message">{error}</div>}
      </div>
    </div>
  );
};

export default PathTrackingTestPage;
```

### 사용 방법

1. **추적 시작**: "추적 시작" 버튼을 클릭하여 실시간 위치 추적을 시작합니다
2. **이동하기**: 디바이스를 들고 이동하면 실시간으로 경로가 폴리라인으로 그려집니다
3. **추적 중지**: "추적 중지" 버튼을 클릭하여 위치 추적을 종료합니다
4. **경로 초기화**: "경로 초기화" 버튼으로 기존 추적된 경로를 삭제하고 새로 시작할 수 있습니다

### 주의사항

- **HTTPS 필요**: Geolocation API는 HTTPS 환경에서만 동작합니다
- **위치 권한**: 브라우저에서 위치 권한을 요청하므로 허용해야 정상 동작합니다
- **배터리 소모**: 1초마다 GPS를 사용하므로 배터리 소모가 클 수 있습니다
- **정확도**: 실내에서는 GPS 정확도가 떨어질 수 있으므로 야외 테스트를 권장합니다
- **추적 중지**: 테스트 완료 후 반드시 추적을 중지해주세요