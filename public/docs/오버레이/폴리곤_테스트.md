### 폴리곤 테스트

Google Maps API의 Polygon 컴포넌트를 사용하여 다양한 스타일의 영역을 그리는 테스트입니다.

### 주요 기능

**다양한 폴리곤 스타일**

- **서울 중심 구역**: 빨간색, 채우기 투명도 0.3, 테두리 두께 2px
- **한강 북쪽 구역**: 파란색, 채우기 투명도 0.2, 테두리 두께 3px
- **삼각형 구역**: 초록색, 채우기 투명도 0.4, 테두리 두께 2px
- **복잡한 다각형 구역**: 자홍색, 채우기 투명도 0.25, 테두리 두께 2px

**폴리곤 상호작용**

- 폴리곤 클릭시 정보창 표시
- 채우기 색상, 투명도, 테두리 정보 확인 가능
- 정보창 닫기 기능

### 기술적 구현

**Polygon 컴포넌트 사용법**

```jsx
<Polygon
  paths={polygon.paths}
  options={{
    fillColor: polygon.fillColor,
    fillOpacity: polygon.fillOpacity,
    strokeColor: polygon.strokeColor,
    strokeWeight: polygon.strokeWeight,
    strokeOpacity: polygon.strokeOpacity,
    clickable: true,
  }}
  onClick={() => handlePolygonClick(polygon)}
/>
```

**주요 옵션**

- `fillColor`: 영역 채우기 색상
- `fillOpacity`: 영역 채우기 투명도 (0.0 ~ 1.0)
- `strokeColor`: 테두리 색상
- `strokeWeight`: 테두리 두께 (픽셀 단위)
- `strokeOpacity`: 테두리 투명도 (0.0 ~ 1.0)
- `clickable`: 클릭 가능 여부

**경로 데이터 구조**

```javascript
const polygonPaths = [
  {
    id: 1,
    paths: [
      { lat: 37.56, lng: 126.97 },
      { lat: 37.57, lng: 126.97 },
      { lat: 37.57, lng: 126.985 },
      { lat: 37.56, lng: 126.985 },
      { lat: 37.56, lng: 126.97 }, // 닫힌 영역
    ],
    fillColor: "#FF0000",
    fillOpacity: 0.3,
    strokeColor: "#FF0000",
    strokeWeight: 2,
    strokeOpacity: 0.8,
    title: "서울 중심 구역",
    description: "서울의 중심부를 나타내는 영역입니다.",
  },
];
```

### 사용 사례

**행정구역 표시**

- 시/도 경계
- 구/군 경계
- 행정동 경계

**서비스 영역 표시**

- 배송 가능 지역
- 서비스 커버리지
- 영향권 표시

**데이터 시각화**

- 인구 밀도
- 매출 데이터
- 통계 정보

**제한 구역 표시**

- 출입 금지 구역
- 보호 구역
- 특별 관리 구역

### 고급 기능

**동적 폴리곤**

- 실시간 영역 업데이트
- 조건부 표시/숨김
- 애니메이션 효과

**복잡한 모양**

- 구멍이 있는 폴리곤 (홀)
- 다중 폴리곤
- 중첩된 영역

**스타일링**

- 그라데이션 효과
- 패턴 채우기
- 커스텀 아이콘

**성능 최적화**

- 대용량 폴리곤 데이터 처리
- 메모리 관리
- 렌더링 최적화

### 폴리곤 vs 폴리라인

| 특징      | 폴리곤                | 폴리라인     |
| --------- | --------------------- | ------------ |
| 용도      | 영역 표시             | 경로 표시    |
| 채우기    | 지원                  | 미지원       |
| 닫힌 형태 | 필수                  | 선택         |
| 사용 사례 | 행정구역, 서비스 영역 | 경로, 경계선 |

### 주의사항

1. **좌표 정확도**: 정확한 위도/경도 좌표 사용
2. **닫힌 영역**: 첫 번째 좌표와 마지막 좌표가 동일해야 함
3. **성능**: 복잡한 폴리곤은 성능에 영향
4. **사용자 경험**: 클릭 가능한 영역 충분히 확보
5. **접근성**: 색상에만 의존하지 않는 정보 제공

### 전체 코드

```jsx
// src/pages/overlay/PolygonTestPage.jsx
import { GoogleMap, Polygon } from "@react-google-maps/api";
import { useState, useEffect } from "react";
import MarkdownComponent from "@/components/Markdown";
import "@/pages/map/MapPage.css";

const center = {
  lat: 37.5665, // 서울의 위도
  lng: 126.978, // 서울의 경도
};

// 폴리곤 영역 데이터
const polygonPaths = [
  // 서울 중심 구역
  {
    id: 1,
    paths: [
      { lat: 37.56, lng: 126.97 },
      { lat: 37.57, lng: 126.97 },
      { lat: 37.57, lng: 126.985 },
      { lat: 37.56, lng: 126.985 },
      { lat: 37.56, lng: 126.97 }, // 닫힌 영역
    ],
    fillColor: "#FF0000",
    fillOpacity: 0.3,
    strokeColor: "#FF0000",
    strokeWeight: 2,
    strokeOpacity: 0.8,
    title: "서울 중심 구역",
    description: "서울의 중심부를 나타내는 영역입니다.",
  },
  // 한강 북쪽 구역
  {
    id: 2,
    paths: [
      { lat: 37.52, lng: 126.97 },
      { lat: 37.55, lng: 126.97 },
      { lat: 37.55, lng: 126.985 },
      { lat: 37.52, lng: 126.985 },
      { lat: 37.52, lng: 126.97 },
    ],
    fillColor: "#0000FF",
    fillOpacity: 0.2,
    strokeColor: "#0000FF",
    strokeWeight: 3,
    strokeOpacity: 0.6,
    title: "한강 북쪽 구역",
    description: "한강 북쪽 지역을 나타내는 영역입니다.",
  },
  // 삼각형 구역
  {
    id: 3,
    paths: [
      { lat: 37.57, lng: 126.97 },
      { lat: 37.58, lng: 126.975 },
      { lat: 37.57, lng: 126.98 },
      { lat: 37.57, lng: 126.97 },
    ],
    fillColor: "#00FF00",
    fillOpacity: 0.4,
    strokeColor: "#00FF00",
    strokeWeight: 2,
    strokeOpacity: 0.7,
    title: "삼각형 구역",
    description: "삼각형 모양의 영역입니다.",
  },
  // 복잡한 다각형 구역
  {
    id: 4,
    paths: [
      { lat: 37.54, lng: 126.97 },
      { lat: 37.545, lng: 126.972 },
      { lat: 37.55, lng: 126.97 },
      { lat: 37.555, lng: 126.975 },
      { lat: 37.55, lng: 126.98 },
      { lat: 37.545, lng: 126.978 },
      { lat: 37.54, lng: 126.97 },
    ],
    fillColor: "#FF00FF",
    fillOpacity: 0.25,
    strokeColor: "#FF00FF",
    strokeWeight: 2,
    strokeOpacity: 0.8,
    title: "복잡한 다각형 구역",
    description: "복잡한 모양의 다각형 영역입니다.",
  },
];

const mapOptions = {
  gestureHandling: "greedy",
  zoomControl: false,
  scaleControl: false,
  mapTypeControl: false,
  streetViewControl: false,
  fullscreenControl: false,
  disableDefaultUI: true,
  scrollwheel: true,
  draggable: true,
  clickableIcons: false,
};

/**
 * 폴리곤 테스트 페이지입니다.
 *  - 다양한 스타일의 폴리곤을 표시합니다.
 *  - 폴리곤 클릭시 정보를 표시합니다.
 */
const PolygonTestPage = () => {
  const [selectedPolygon, setSelectedPolygon] = useState(null);
  const [markdown, setMarkdown] = useState("");

  const handlePolygonClick = (polygon) => {
    setSelectedPolygon(polygon);
  };

  // 마크다운 문서 로드
  useEffect(() => {
    fetch(`/docs/오버레이/폴리곤_테스트.md`)
      .then((response) => response.text())
      .then((text) => setMarkdown(text));
  }, []);

  return (
    <div className="map-page">
      <div className="map-container">
        <GoogleMap
          mapContainerClassName="map-inner"
          center={center}
          zoom={12}
          options={mapOptions}
        >
          {/* 폴리곤 렌더링 */}
          {polygonPaths.map((polygon) => (
            <Polygon
              key={polygon.id}
              paths={polygon.paths}
              options={{
                fillColor: polygon.fillColor,
                fillOpacity: polygon.fillOpacity,
                strokeColor: polygon.strokeColor,
                strokeWeight: polygon.strokeWeight,
                strokeOpacity: polygon.strokeOpacity,
                clickable: true,
              }}
              onClick={() => handlePolygonClick(polygon)}
            />
          ))}

          {/* 선택된 폴리곤 정보 표시 */}
          {selectedPolygon && (
            <div
              style={{
                position: "absolute",
                top: "10px",
                left: "10px",
                background: "white",
                padding: "15px",
                borderRadius: "8px",
                boxShadow: "0 4px 12px rgba(0,0,0,0.15)",
                zIndex: 1000,
                maxWidth: "300px",
                border: "1px solid #ddd",
              }}
            >
              <h3 style={{ margin: "0 0 10px 0", color: "#333" }}>
                {selectedPolygon.title}
              </h3>
              <p
                style={{ margin: "0 0 8px 0", color: "#666", fontSize: "14px" }}
              >
                {selectedPolygon.description}
              </p>
              <div style={{ marginBottom: "10px" }}>
                <p style={{ margin: "2px 0", fontSize: "13px" }}>
                  <strong>채우기 색상:</strong> {selectedPolygon.fillColor}
                </p>
                <p style={{ margin: "2px 0", fontSize: "13px" }}>
                  <strong>채우기 투명도:</strong> {selectedPolygon.fillOpacity}
                </p>
                <p style={{ margin: "2px 0", fontSize: "13px" }}>
                  <strong>테두리 색상:</strong> {selectedPolygon.strokeColor}
                </p>
                <p style={{ margin: "2px 0", fontSize: "13px" }}>
                  <strong>테두리 두께:</strong> {selectedPolygon.strokeWeight}px
                </p>
                <p style={{ margin: "2px 0", fontSize: "13px" }}>
                  <strong>테두리 투명도:</strong>{" "}
                  {selectedPolygon.strokeOpacity}
                </p>
              </div>
              <button
                onClick={() => setSelectedPolygon(null)}
                style={{
                  padding: "8px 16px",
                  background: "#007bff",
                  color: "white",
                  border: "none",
                  borderRadius: "4px",
                  cursor: "pointer",
                  fontSize: "14px",
                  fontWeight: "500",
                }}
              >
                닫기
              </button>
            </div>
          )}
        </GoogleMap>
      </div>

      {/* 마크다운 문서 표시 */}
      <div className="markdown-section">
        <MarkdownComponent content={markdown} />
      </div>
    </div>
  );
};

export default PolygonTestPage;
```
